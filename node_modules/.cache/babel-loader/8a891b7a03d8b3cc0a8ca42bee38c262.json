{"ast":null,"code":"import _objectSpread from\"/home/secret/Desktop/inna/dev/first-project/around-react-auth/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useContext,useEffect}from'react';import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{useFormAndValidation}from\"../hooks/useFormAndValidation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function EditProfilePopup(props){var currentUser=useContext(CurrentUserContext);var _useFormAndValidation=useFormAndValidation(),values=_useFormAndValidation.values,handleChange=_useFormAndValidation.handleChange,errors=_useFormAndValidation.errors,isValid=_useFormAndValidation.isValid,setValues=_useFormAndValidation.setValues,resetForm=_useFormAndValidation.resetForm;useEffect(function(){resetForm();setValues(_objectSpread(_objectSpread({},values),{},{profileName:currentUser.name,profileAbout:currentUser.about}));},[currentUser,props.isOpen]);function handleSubmit(e){e.preventDefault();props.onUpdateUser({name:values.profileName,about:values.profileAbout});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"edit\",title:\"Edit profile\",isOpen:props.isOpen,isValid:isValid,onClose:props.onClose,onSubmit:handleSubmit,buttonText:props.buttonText,children:[/*#__PURE__*/_jsx(\"input\",{id:\"name-input\",type:\"text\",name:\"profileName\",placeholder:\"Name\",onChange:handleChange,value:values.profileName||\"\",autoComplete:\"off\",className:\"popup__input popup__input_field_name\",minLength:\"2\",maxLength:\"40\",required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"popup__error-container\",children:/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error name-input-error\",children:errors.profileName})}),/*#__PURE__*/_jsx(\"input\",{id:\"about-input\",type:\"text\",name:\"profileAbout\",placeholder:\"About me\",onChange:handleChange,value:values.profileAbout||\"\",autoComplete:\"off\",className:\"popup__input popup__input_field_about-me\",minLength:\"2\",maxLength:\"200\",required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"popup__error-container\",children:/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error about-input-error\",children:errors.profileAbout})})]});}","map":{"version":3,"sources":["/home/secret/Desktop/inna/dev/first-project/around-react-auth/src/components/EditProfilePopup.js"],"names":["React","useContext","useEffect","PopupWithForm","CurrentUserContext","useFormAndValidation","EditProfilePopup","props","currentUser","values","handleChange","errors","isValid","setValues","resetForm","profileName","name","profileAbout","about","isOpen","handleSubmit","e","preventDefault","onUpdateUser","onClose","buttonText"],"mappings":"kJAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,KAA6C,OAA7C,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CACA,OAASC,oBAAT,KAAqC,+BAArC,C,wFAEA,MAAO,SAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CACtC,GAAMC,CAAAA,WAAW,CAAGP,UAAU,CAACG,kBAAD,CAA9B,CACA,0BAAwEC,oBAAoB,EAA5F,CAAQI,MAAR,uBAAQA,MAAR,CAAgBC,YAAhB,uBAAgBA,YAAhB,CAA8BC,MAA9B,uBAA8BA,MAA9B,CAAsCC,OAAtC,uBAAsCA,OAAtC,CAA+CC,SAA/C,uBAA+CA,SAA/C,CAA0DC,SAA1D,uBAA0DA,SAA1D,CAEAZ,SAAS,CAAC,UAAM,CACdY,SAAS,GACTD,SAAS,gCAAMJ,MAAN,MAAcM,WAAW,CAAEP,WAAW,CAACQ,IAAvC,CAA6CC,YAAY,CAAET,WAAW,CAACU,KAAvE,GAAT,CACD,CAHQ,CAGN,CAACV,WAAD,CAAcD,KAAK,CAACY,MAApB,CAHM,CAAT,CAKA,QAASC,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACvBA,CAAC,CAACC,cAAF,GAEAf,KAAK,CAACgB,YAAN,CAAmB,CACjBP,IAAI,CAAEP,MAAM,CAACM,WADI,CAEjBG,KAAK,CAAET,MAAM,CAACQ,YAFG,CAAnB,EAID,CAED,mBACE,MAAC,aAAD,EAAe,IAAI,CAAC,MAApB,CACE,KAAK,CAAC,cADR,CAEE,MAAM,CAAEV,KAAK,CAACY,MAFhB,CAGE,OAAO,CAAEP,OAHX,CAIE,OAAO,CAAEL,KAAK,CAACiB,OAJjB,CAKE,QAAQ,CAAEJ,YALZ,CAME,UAAU,CAAEb,KAAK,CAACkB,UANpB,wBAOE,cACE,EAAE,CAAC,YADL,CAEE,IAAI,CAAC,MAFP,CAGE,IAAI,CAAC,aAHP,CAIE,WAAW,CAAC,MAJd,CAKE,QAAQ,CAAEf,YALZ,CAME,KAAK,CAAED,MAAM,CAACM,WAAP,EAAsB,EAN/B,CAOE,YAAY,CAAC,KAPf,CAQE,SAAS,CAAC,sCARZ,CASE,SAAS,CAAC,GATZ,CAUE,SAAS,CAAC,IAVZ,CAWE,QAAQ,KAXV,EAPF,cAmBE,YAAK,SAAS,CAAC,wBAAf,uBACE,aAAM,SAAS,CAAC,qCAAhB,UAAuDJ,MAAM,CAACI,WAA9D,EADF,EAnBF,cAsBE,cACE,EAAE,CAAC,aADL,CAEE,IAAI,CAAC,MAFP,CAGE,IAAI,CAAC,cAHP,CAIE,WAAW,CAAC,UAJd,CAKE,QAAQ,CAAEL,YALZ,CAME,KAAK,CAAED,MAAM,CAACQ,YAAP,EAAuB,EANhC,CAOE,YAAY,CAAC,KAPf,CAQE,SAAS,CAAC,0CARZ,CASE,SAAS,CAAC,GATZ,CAUE,SAAS,CAAC,KAVZ,CAWE,QAAQ,KAXV,EAtBF,cAkCE,YAAK,SAAS,CAAC,wBAAf,uBACE,aAAM,SAAS,CAAC,sCAAhB,UAAwDN,MAAM,CAACM,YAA/D,EADF,EAlCF,GADF,CAwCD","sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { useFormAndValidation } from \"../hooks/useFormAndValidation\";\n\nexport function EditProfilePopup(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const { values, handleChange, errors, isValid, setValues, resetForm } = useFormAndValidation()\n\n  useEffect(() => {\n    resetForm();\n    setValues({ ...values, profileName: currentUser.name, profileAbout: currentUser.about });\n  }, [currentUser, props.isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateUser({\n      name: values.profileName,\n      about: values.profileAbout\n    })\n  }\n\n  return (\n    <PopupWithForm name=\"edit\"\n      title=\"Edit profile\"\n      isOpen={props.isOpen}\n      isValid={isValid}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      buttonText={props.buttonText}>\n      <input\n        id=\"name-input\"\n        type=\"text\"\n        name=\"profileName\"\n        placeholder=\"Name\"\n        onChange={handleChange}\n        value={values.profileName || \"\"}\n        autoComplete=\"off\"\n        className=\"popup__input popup__input_field_name\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        required />\n      <div className=\"popup__error-container\">\n        <span className=\"popup__input-error name-input-error\">{errors.profileName}</span>\n      </div>\n      <input\n        id=\"about-input\"\n        type=\"text\"\n        name=\"profileAbout\"\n        placeholder=\"About me\"\n        onChange={handleChange}\n        value={values.profileAbout || \"\"}\n        autoComplete=\"off\"\n        className=\"popup__input popup__input_field_about-me\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        required />\n      <div className=\"popup__error-container\">\n        <span className=\"popup__input-error about-input-error\">{errors.profileAbout}</span>\n      </div>\n    </PopupWithForm>\n  )\n}"]},"metadata":{},"sourceType":"module"}