{"ast":null,"code":"import _toConsumableArray from\"/home/secret/Desktop/inna/dev/first-project/around-react-auth/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/secret/Desktop/inna/dev/first-project/around-react-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'../index.css';import Header from\"./Header\";import Main from\"./Main\";import Footer from\"./Footer\";import ImagePopup from\"./ImagePopup\";import api from\"../utils/api\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{EditProfilePopup}from\"./EditProfilePopup\";import{EditAvatarPopup}from\"./EditAvatarPopup\";import{AddPlacePopup}from\"./AddPlacePopup\";import{ConfirmationPopup}from\"./ConfirmationPopup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEditProfilePopupOpen=_useState2[0],setIsEditProfilePopupOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAddPlacePopupOpen=_useState4[0],setIsAddPlacePopupOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEditAvatarPopupOpen=_useState6[0],setIsEditAvatarPopupOpen=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isDeleteCardPopupOpen=_useState8[0],setIsDeleteCardPopupOpen=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isSelectedCard=_useState10[0],setIsSelectedCard=_useState10[1];var _useState11=useState({}),_useState12=_slicedToArray(_useState11,2),selectedCard=_useState12[0],setSelectedCard=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),currentUser=_useState14[0],setCurrentUser=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),cards=_useState16[0],setCards=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),buttonText=_useState18[0],setButtonText=_useState18[1];function handleEditProfileClick(){setButtonText('Save');setIsEditProfilePopupOpen(true);}function handleAddPlaceClick(){setButtonText('Create');setIsAddPlacePopupOpen(true);}function handleEditAvatarClick(){setButtonText('Save');setIsEditAvatarPopupOpen(true);}function handleDeleteCardClick(card){setIsDeleteCardPopupOpen(true);setSelectedCard(card);}function closeAllPopups(){setIsEditProfilePopupOpen(false);setIsAddPlacePopupOpen(false);setIsEditAvatarPopupOpen(false);setIsDeleteCardPopupOpen(false);setIsSelectedCard(false);}useEffect(function(){var closeByEscape=function closeByEscape(e){if(e.key==='Escape'){closeAllPopups();}};document.addEventListener('keydown',closeByEscape);return function(){return document.removeEventListener('keydown',closeByEscape);};},[]);function handleCardClick(card){setIsSelectedCard(true);setSelectedCard(card);}function handleUpdateUser(userInfo){setButtonText('Saving...');api.patchProfileData(userInfo).then(function(user){setCurrentUser(user);}).then(function(){closeAllPopups();}).catch(function(err){console.log(err);}).finally(function(){setButtonText('Save');});}function handleUpdateAvatar(fieldValue){setButtonText('Saving...');api.patchAvatar(fieldValue).then(function(user){setCurrentUser(user);}).then(function(){closeAllPopups();}).catch(function(err){console.log(err);}).finally(function(){setButtonText('Save');});}useEffect(function(){api.getUserInfo().then(function(user){setCurrentUser(user);}).catch(function(err){console.log(err);});},[]);function handleCardLike(card){var isLiked=card.likes.some(function(user){return user._id===currentUser._id;});api.changeLikeCardStatus(card._id,isLiked).then(function(newCard){setCards(function(state){return state.map(function(currentCard){return currentCard._id===card._id?newCard:currentCard;});});}).catch(function(err){console.log(err);});}function handleCardDelete(currentCard){api.delete(currentCard._id).then(function(){var newCards=cards.filter(function(card){return card._id!==currentCard._id;});setCards(newCards);}).then(function(){closeAllPopups();}).catch(function(err){console.log(err);});}useEffect(function(){api.getInitialCards().then(function(res){setCards(res);}).catch(function(err){console.log(err);});},[]);function handleAddPlaceSubmit(card){setButtonText('Creating...');api.postNewCardData(card).then(function(card){setCards([card].concat(_toConsumableArray(cards)));}).then(function(){closeAllPopups();}).catch(function(err){console.log(err);}).finally(function(){setButtonText('Create');});}return/*#__PURE__*/_jsx(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Main,{onEditProfileClick:handleEditProfileClick,onEditAvatarClick:handleEditAvatarClick,onAddPlaceClick:handleAddPlaceClick,onDeleteClick:handleDeleteCardClick,onCardClick:handleCardClick,cards:cards,onCardLike:handleCardLike}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:handleUpdateUser,buttonText:buttonText}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddPlaceSubmit:handleAddPlaceSubmit,buttonText:buttonText}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:handleUpdateAvatar,buttonText:buttonText}),/*#__PURE__*/_jsx(ConfirmationPopup,{isOpen:isDeleteCardPopupOpen,onClose:closeAllPopups,card:selectedCard,onCardDelete:handleCardDelete}),/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,isOpen:isSelectedCard,onClose:closeAllPopups})]})})});}export default App;","map":{"version":3,"sources":["/home/secret/Desktop/inna/dev/first-project/around-react-auth/src/components/App.js"],"names":["React","useState","useEffect","Header","Main","Footer","ImagePopup","api","CurrentUserContext","EditProfilePopup","EditAvatarPopup","AddPlacePopup","ConfirmationPopup","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","isSelectedCard","setIsSelectedCard","selectedCard","setSelectedCard","currentUser","setCurrentUser","cards","setCards","buttonText","setButtonText","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleDeleteCardClick","card","closeAllPopups","closeByEscape","e","key","document","addEventListener","removeEventListener","handleCardClick","handleUpdateUser","userInfo","patchProfileData","then","user","catch","err","console","log","finally","handleUpdateAvatar","fieldValue","patchAvatar","getUserInfo","handleCardLike","isLiked","likes","some","_id","changeLikeCardStatus","newCard","state","map","currentCard","handleCardDelete","delete","newCards","filter","getInitialCards","res","handleAddPlaceSubmit","postNewCardData"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\n\nimport '../index.css';\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { EditProfilePopup } from \"./EditProfilePopup\";\nimport { EditAvatarPopup } from \"./EditAvatarPopup\";\nimport { AddPlacePopup } from \"./AddPlacePopup\";\nimport { ConfirmationPopup } from \"./ConfirmationPopup\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\n  const [isSelectedCard, setIsSelectedCard] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [buttonText, setButtonText] = useState('');\n\n  function handleEditProfileClick() {\n    setButtonText('Save');\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setButtonText('Create');\n    setIsAddPlacePopupOpen(true);\n  }\n\n\n  function handleEditAvatarClick() {\n    setButtonText('Save');\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleDeleteCardClick(card) {\n    setIsDeleteCardPopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setIsSelectedCard(false);\n  }\n\n  useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n\n    document.addEventListener('keydown', closeByEscape)\n\n    return () => document.removeEventListener('keydown', closeByEscape)\n  }, [])\n\n  function handleCardClick(card) {\n    setIsSelectedCard(true);\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser(userInfo) {\n    setButtonText('Saving...');\n    api.patchProfileData(userInfo)\n      .then((user) => {\n        setCurrentUser(user);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(function () {\n        setButtonText('Save');\n      });\n  }\n\n  function handleUpdateAvatar(fieldValue) {\n    setButtonText('Saving...');\n    api.patchAvatar(fieldValue)\n      .then((user) => {\n        setCurrentUser(user);\n\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(function () {\n        setButtonText('Save');\n      });\n  }\n\n  useEffect(() => {\n    api.getUserInfo()\n      .then((user) => {\n        setCurrentUser(user);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }, [])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(user => user._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((currentCard) => currentCard._id === card._id ? newCard : currentCard));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(currentCard) {\n    api.delete(currentCard._id)\n      .then(() => {\n        const newCards = cards.filter((card) => card._id !== currentCard._id);\n        setCards(newCards);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  useEffect(() => {\n    api.getInitialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleAddPlaceSubmit(card) {\n    setButtonText('Creating...');\n    api.postNewCardData(card)\n      .then((card) => {\n        setCards([card, ...cards]);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(function () {\n        setButtonText('Create');\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"page\">\n          <Header />\n          <Main\n            onEditProfileClick={handleEditProfileClick}\n            onEditAvatarClick={handleEditAvatarClick}\n            onAddPlaceClick={handleAddPlaceClick}\n            onDeleteClick={handleDeleteCardClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n          />\n          <Footer />\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            buttonText={buttonText} />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlaceSubmit={handleAddPlaceSubmit}\n            buttonText={buttonText} />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            buttonText={buttonText}\n          />\n\n          <ConfirmationPopup\n            isOpen={isDeleteCardPopupOpen}\n            onClose={closeAllPopups}\n            card={selectedCard}\n            onCardDelete={handleCardDelete}\n          />\n\n          <ImagePopup\n            card={selectedCard}\n            isOpen={isSelectedCard}\n            onClose={closeAllPopups} />\n\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}